% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/09_pipeline.R
\name{run_invasion_habitat_pipeline_generic}
\alias{run_invasion_habitat_pipeline_generic}
\title{One-click invasive species habitat preference analysis (from coordinates)}
\usage{
run_invasion_habitat_pipeline_generic(
  occ_file,
  lon_col = "lon",
  lat_col = "lat",
  habitats,
  study_area = NULL,
  breaks = NULL,
  n_bins = 6,
  method = c("pretty", "equal", "quantile"),
  n_bg = 10000,
  bg_method = c("random", "restricted", "target_group", "bias"),
  buffer_dist = 50000,
  bbox_expand = 0.1,
  target_points = NULL
)
}
\arguments{
\item{occ_file}{Character string. Path to the CSV file containing
occurrence coordinates.}

\item{lon_col, lat_col}{Character strings. Column names for longitude
and latitude in \code{occ_file}. Defaults are \code{"lon"} and \code{"lat"}.}

\item{habitats}{A named list of habitat layers, e.g.
\code{list(roads = roads_sf, rivers = rivers_sf)}.
Each element should be an \code{sf} or \code{SpatVector} object.}

\item{study_area}{Optional polygon (sf or terra SpatVector). If \code{NULL},
the background sampling area is derived from the occurrence bounding box
(optionally expanded via \code{bbox_expand}).}

\item{breaks}{Optional numeric vector of distance breakpoints. If \code{NULL},
breaks are generated automatically.}

\item{n_bins}{Integer. Desired number of bins when \code{breaks = NULL}.}

\item{method}{Character string specifying the method used to generate distance
breakpoints when \code{breaks = NULL}:
\code{"pretty"}, \code{"equal"}, or \code{"quantile"}.}

\item{n_bg}{Integer. Number of background points to generate.}

\item{bg_method}{Character string specifying the background sampling method:
\code{"random"}, \code{"restricted"}, \code{"target_group"}, or \code{"bias"}.}

\item{buffer_dist}{Numeric. Buffer distance (in CRS units) used when
\code{bg_method = "restricted"}.}

\item{bbox_expand}{Numeric. Expansion factor applied to the occurrence
bounding box when \code{study_area = NULL} and \code{bg_method = "random"}.}

\item{target_points}{Optional sf POINT object used when
\code{bg_method = "target_group"}.}
}
\value{
A list with components:
\itemize{
\item \code{freq_long}: long-format distance–frequency table
(\code{habitat, distance, sampling, occurrence}).
\item \code{freq_wide}: wide-format table with columns
\code{distance, sampling_<habitat>, occurrence_<habitat>}.
\item \code{occ_sf}: sf POINT object of occurrence locations.
\item \code{bg_sf}: sf POINT object of background locations.
}
}
\description{
Starting from occurrence point coordinates (longitude/latitude), this
function:
\enumerate{
\item reads occurrence data from a CSV file,
\item generates background points,
\item computes distances from points to multiple habitat layers,
\item builds distance–frequency tables.
}

The resulting objects can be used for further analysis and plotting,
such as decay curves, trend fitting (LM/GAM), and statistical tests.

If \code{breaks = NULL}, distance class breakpoints are generated
automatically based on the distances of both occurrence and background
points (controlled by \code{n_bins} and \code{method}).
}
