% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/09_pipeline.R
\name{run_from_frequency_table}
\alias{run_from_frequency_table}
\title{Run habitat preference analysis from a frequency table}
\usage{
run_from_frequency_table(
  freq_wide,
  trend_methods = NULL,
  lm_degree = 1,
  gam_k = 5,
  make_trend_plots = TRUE
)
}
\arguments{
\item{freq_wide}{A wide-format data.frame with columns:
\code{distance}, \code{sampling_<habitat>}, \code{occurrence_<habitat>}.}

\item{trend_methods}{Optional character vector specifying which trend
models to fit for frequencyâ€“distance relationships:
any of \code{"lm"} and/or \code{"gam"}.
If \code{NULL} (default), no trend models are fitted.}

\item{lm_degree}{Integer. Polynomial degree for LM trends (default 1 = linear),
used when \code{"lm"} is included in \code{trend_methods}.}

\item{gam_k}{Integer. Basis dimension for GAM smooth trends (default 5),
used when \code{"gam"} is included in \code{trend_methods}.}

\item{make_trend_plots}{Logical. If \code{TRUE} and \code{trend_methods}
is not \code{NULL}, multi-panel LM/GAM trend plots are produced.}
}
\value{
A list with components:
\itemize{
\item \code{decay_plot}: patchwork object with multi-habitat exponential
decay curves and confidence intervals.
\item \code{decay_summary}: data.frame with decay-based statistics
per habitat (e.g. decay rates, p-values, ecological interpretation).
\item \code{trend_plot}: patchwork object with LM/GAM trends (or \code{NULL}
if no trend plots were requested).
\item \code{trend_summary}: data.frame with LM/GAM trend statistics
per habitat (or \code{NULL} if no trend models were fitted).
}
}
\description{
Given a pre-assembled wide-format frequency table (containing
\code{distance}, \code{sampling_*}, and \code{occurrence_*} columns),
this function:
\enumerate{
\item reshapes it into long format,
\item fits exponential decay curves for multiple habitats,
\item produces a multi-panel decay plot,
\item computes statistical summaries of habitat preference (decay-based),
\item optionally fits LM/GAM trends and produces trend plots and summaries.
}
}
