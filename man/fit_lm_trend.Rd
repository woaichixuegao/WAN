% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/05_trend_models.R
\name{fit_lm_trend}
\alias{fit_lm_trend}
\title{Fit a least-squares trend (linear or polynomial) for frequency vs distance}
\usage{
fit_lm_trend(distance, frequency, degree = 1, x_pred = NULL)
}
\arguments{
\item{distance}{Numeric vector of distances (e.g. bin midpoints).}

\item{frequency}{Numeric vector of frequencies (\%).}

\item{degree}{Integer, polynomial degree (1 = linear).}

\item{x_pred}{Optional numeric vector of distances
where predictions should be made. If NULL, an equally spaced grid
is created between the minimum and maximum observed distance.}
}
\value{
A list with components:
\itemize{
\item \code{model}: fitted \code{lm} object;
\item \code{data}: data.frame with non-NA input data;
\item \code{pred}: data.frame with columns:
\code{distance}, \code{fit}, \code{lower}, \code{upper}
(approx. 95\\% confidence intervals, truncated to the range 0–100).
}
Returns \code{NULL} if there are not enough points to fit the model.
}
\description{
Fit a simple least-squares model using \code{lm()}:
\itemize{
\item degree = 1: linear model, frequency ~ distance
\item degree > 1: polynomial model, frequency ~ poly(distance, degree)
}

The function returns fitted values and approximate 95\% confidence
intervals for frequency (in \%). Predictions and intervals are truncated
to the range 0–100.
}
