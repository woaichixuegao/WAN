% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/05_trend_models.R
\name{fit_gam_trend}
\alias{fit_gam_trend}
\title{Fit a GAM smooth trend for frequency vs distance}
\usage{
fit_gam_trend(distance, frequency, k = 5, x_pred = NULL)
}
\arguments{
\item{distance}{Numeric vector of distances.}

\item{frequency}{Numeric vector of frequencies (\%).}

\item{k}{Basis dimension for the smooth (passed to \code{s(distance, k = k)}).}

\item{x_pred}{Optional numeric vector of distances for predictions.}
}
\value{
A list with components:
\itemize{
\item \code{model}: fitted \code{gam} object;
\item \code{data}: data.frame with non-NA input;
\item \code{pred}: data.frame with columns:
\code{distance}, \code{fit}, \code{lower}, \code{upper}
(approx. 95\\% confidence intervals, truncated to the range 0–100).
}
Returns \code{NULL} if there are not enough points to fit the smooth.
}
\description{
Fit a generalized additive model using \code{mgcv::gam}:
\deqn{frequency = s(distance)}
with a Gaussian family. This captures smooth, non-linear trends
in frequency vs distance.

The function returns fitted values and approximate 95\% confidence
intervals for frequency (in \%). Predictions and intervals are truncated
to the range 0–100.
}
